  if( st.st_size != pinfo->ParaTotalSize + sizeof(xlFileHeader_min) + sizeof(header))
    ftruncate(fd, pinfo->ParaTotalSize + sizeof(xlFileHeader_min) + sizeof(header));
  fstat(fd, &st);
  DPRINT("%d, %d, %d, %d\n", pinfo->ParaTotalSize, st.st_size, sizeof(xlFileHeader_min), sizeof(header));
  //mmap版浠
  pinfo->ParaInfoVect = mmap(0, st.st_size,
                              PROT_READ | PROT_WRITE, MAP_SHARED,
                              fd, 0);

  if( pinfo->ParaInfoVect == MAP_FAILED)
  {
    close(fd);
    return -1;
  }

  un_lock(fd, 0, 0);
  
    if( st.st_size != pinfo->ParaTotalSize + sizeof(xlFileHeader_min) + sizeof(header))
    ftruncate(fd, pinfo->ParaTotalSize + sizeof(xlFileHeader_min) + sizeof(header));
  fstat(fd, &st);
  DPRINT("%d, %d, %d, %d\n", pinfo->ParaTotalSize, st.st_size, sizeof(xlFileHeader_min), sizeof(header));
  //mmap版浠
  pinfo->ParaInfoVect = mmap(0, st.st_size,
                              PROT_READ | PROT_WRITE, MAP_SHARED,
                              fd, 0);

  if( pinfo->ParaInfoVect == MAP_FAILED)
  {
    close(fd);
    return -1;
  }

  un_lock(fd, 0, 0);
  
  
    if( st.st_size != pinfo->ParaTotalSize + sizeof(xlFileHeader_min) + sizeof(header))
    ftruncate(fd, pinfo->ParaTotalSize + sizeof(xlFileHeader_min) + sizeof(header));
  fstat(fd, &st);
  DPRINT("%d, %d, %d, %d\n", pinfo->ParaTotalSize, st.st_size, sizeof(xlFileHeader_min), sizeof(header));
  //mmap版浠
  pinfo->ParaInfoVect = mmap(0, st.st_size,
                              PROT_READ | PROT_WRITE, MAP_SHARED,
                              fd, 0);

  if( pinfo->ParaInfoVect == MAP_FAILED)
  {
    close(fd);
    return -1;
  }
//      
//---------------------------------------------------
//		一个一个字符搬移来实现文件的搬移
//  		前面也讲过用write 和read 函数进行数据搬移
//		其实，还可以用到mv 命令进行搬移

// 文件的结束，一般文件是以EOF结束的，该值是一个
//负值。fgetc和write的读取的没有太大的差别
// 其本质上，都是返回值小于0 
//---------------------------------------------------
  un_lock(fd, 0, 0);
  
  //---------------------------------------------------
//		一个一个字符搬移来实现文件的搬移
//  		前面也讲过用write 和read 函数进行数据搬移
//		其实，还可以用到mv 命令进行搬移

// 文件的结束，一般文件是以EOF结束的，该值是一个
//负值。fgetc和write的读取的没有太大的差别
// 其本质上，都是返回值小于0 
//---------------------------------------------------
  un_lock(fd, 0, 0);
  
  //---------------------------------------------------
//		一个一个字符搬移来实现文件的搬移
//  		前面也讲过用write 和read 函数进行数据搬移
//		其实，还可以用到mv 命令进行搬移

// 文件的结束，一般文件是以EOF结束的，该值是一个
//负值。fgetc和write的读取的没有太大的差别
// 其本质上，都是返回值小于0 
//---------------------------------------------------
  un_lock(fd, 0, 0);
  
  //---------------------------------------------------
//		一个一个字符搬移来实现文件的搬移
//  		前面也讲过用write 和read 函数进行数据搬移
//		其实，还可以用到mv 命令进行搬移

// 文件的结束，一般文件是以EOF结束的，该值是一个
//负值。fgetc和write的读取的没有太大的差别
// 其本质上，都是返回值小于0 
//---------------------------------------------------
  un_lock(fd, 0, 0);
  
  //---------------------------------------------------
//		一个一个字符搬移来实现文件的搬移
//  		前面也讲过用write 和read 函数进行数据搬移
//		其实，还可以用到mv 命令进行搬移

// 文件的结束，一般文件是以EOF结束的，该值是一个
//负值。fgetc和write的读取的没有太大的差别
// 其本质上，都是返回值小于0 
//---------------------------------------------------
  un_lock(fd, 0, 0);
  
  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////