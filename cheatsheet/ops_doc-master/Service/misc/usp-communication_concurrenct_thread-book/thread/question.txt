当前网络服务面对的问题
1. 大并发，短链接，内存数据库和分散数据存储
2. 主从 主主集群模式 (操作记录)

1. 一个线程处理一个网络连接
2. 一个线程处理一个协议请求

thread-per-request
kyls_thread 获得一个连接创建一个线程
获得一个连接，发送给线程池来抢占。

leader-follower
https://github.com/JohnSully/KeyDB
https://github.com/douban/beansdb
https://github.com/tianyk/beansdb-research
https://github.com/fusiyuan2010/cuttdb
https://github.com/jjzhang166/My-smart-home

thread-pool server models
一个线程一个队列；
https://github.com/kuno/beansdb
多个线程一个队列；
libuv
moosefs
静态线程池 moosefs (bgjob.c等等)
动态线程池 moosefs (bgjob.c等等)


beansdb: 有conn网络连接缓存(服务器端，缓存有收发缓冲区，fd为无效状态)，有item缓存。
moosefs: 有conncache网络连接缓存(客户端，缓存主要为fd维护网络心跳)，
         有freenode，quotanode，slist，chunk 缓存文件名，磁盘限制，文件列表和chunk块。