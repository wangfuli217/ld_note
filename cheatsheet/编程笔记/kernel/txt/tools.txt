大话处理器

http://wangcong.org/blog/archives/1791
git://git.kernel.org/pub/scm/linux/kernel/git/paulmck/perfbook.git   parallel book

source insight SI3US-721119-13700

/etc/rc.local -> /etc/rc.d/rc.local
# This script will be executed *after* all the other init scripts.
/etc/rc.sysinit -> /etc/rc.d/rc.sysinit
/etc/rc.sysinit has all init scripts

/etc/issue /etc/issue.net   are shown before login

for /etc/apt/source.list
    deb http://mirrors.163.com/debian lenny contrib main non-free
    deb-src http://mirrors.163.com/debian lenny contrib main non-free


qrencode  QR code generator (二维码)

system status:
    uptime
    mpstat          smp
    pmap -d pid     process mem eat

gprof (need exit itself, can't be killed or SIGINT)
    gcc -g -O0 -pg
    ./a.out
    gprof ./a.out xx.out(binary) > a.txt
    gprof2dot a.txt > a.dot
    dot -Tpng -o a.png

cpu cache:
    cpuid / dmidecode -t cache / aspersa_summary / cpu_topology32.out (from intel)
    /sys/devices/system/cpu/cpuX/cache/index0-3/size-type
    index0 is L1 data cache
    index1 is L1 instruction cache
    index2 is L2 cache
    index3 is L3 cache if it has

nic speed:
    ifconfig eth0 media 100baseTX
    若出現 port: SIOCSIFMAP: Operation not supported ，可以改用 mii-tool，ethtool指令
    mii-tool -F 100baseTx-FD eth0
    ethtool -s eth0 speed 100 duplex full autoneg on

taskset -p pid          to show running cpu
taskset -p cpuX pid     to set to that cpu

64.120.96.213 13es213

disk recover -- testdisk
http://www.fleurer-lee.com/2011/05/01/%E6%8A%98%E8%85%BE%E5%88%86%E5%8C%BA%E8%A1%A8%E5%B0%8F%E8%AE%B0/
TestDisk PhotoRec	disk recovery tools

ramdisk:
   mkfs.ext4 /dev/ram0 
   mount /dev/ram0 ./mount1
   mount /dev/ram0 ./mount2     doesn't like normal device, ramdisk can be mount on multi point
   cp file /mount

df -h
du -sh (h has the same meaning) dir
du -s * | sort -nr (numeric & reverse) | head -20

watch execute a program periodically, showing output fullscreen
watch -d (highlight) -n 1 "ifconfig eth0 | grep bytes"

create pipe:
    mkfifo /opt/antiddos/common/log/attack-log.pipe
    sudo chmod 777 /opt/antiddos/common/log/attack-log.pipe

dd:
    seek 8k然后write 8k，不要truncate  只要是 of= 一个文件，dd必然会先truncate之，除非带上conv=notrunc
    dd if=/dev/zero of=/test seek=2 bs=4K count=2 conv=notrunc 

chmod 4755
例如：root用户创建了一个上网认证程序netlogin，如果其他用户要上网也要用到这个程序，那就需要root用户运行chmod 755 netlogin命令使其他用户也能运行netlogin。
但是netlogin执行时可能需要访问一些只有root用户才有权访问的文件，那么其他用户执行netlogin时可能因为权限不够还是不能上网。
这种情况下，就可以用 chmod 4755 netlogin 设置其他用户在执行netlogin也有root用户的权限，从而顺利上网。

dpkg -S cmd     to find it's pkg

find . -name "*.cpp" -exec wc -l {} \; | awk '{a+=$1} END {print a}'
... | awk '{print $5}' | cut -d: -f1 | sort | uniq -c | sort -n
find . -maxdepth 1 -type d                              all dir under current dir
find . -maxdepth 1 -type d -exec make -C {} \;          recursive make
find . -cmin -2 new created file within 2 min

host/build      cpu-vendor-os
WARNING: WindRiver calls the build system the host system and the host system, they call the target.

hack passwd     only `root=.. single', drop `console=..'

finger user
write user
wall broadcast

shutdown -h +m (minutes)        C-c to cancel

chrome://net-internals/

svn co http://xxx/projname projname
svn co https://192.168.9.2:8443/svn/linuxwaf/trunk

man -t xxx | ps2pdf - xxx.pdf
man xxx | col -bx > xxx.txt
    -b:删除回车符，即删除 ^M 
    -x:将 tab 变为等效的 space，最终效果会使得 ls.txt 的排版更加整齐
    如果是在 vim 中直接打开没有经过 col 转换的文件，可以执行类似的命令：
    :% !col -bx

gpasswd -a hask wheel

/etc/rc.d/init.d/functions  redhat
/lib/lsb/init-functions     ubuntu      
    start-stop-daemon  --oknodo
    If such a process exists, start-stop-daemon does nothing, and exits with error status 1 (0 if --oknodo is specified)

mpeg -> wmv
mencoder -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=1000:vhq -oac mp3lame -lameopts br=98 -o wsf.wmv wsf.mpeg
wmv -> mpeg
mencoder movie.wmv -o movie.mpg -ovc lavc -oac mp3lame -of mpeg

getconf LONG_BIT	32
getconf LEVEL1_ICACHE_LINESIZE LEVEL1_DCACHE_LINESIZE LEVEL2_CACHE_LINESIZE
/sys/devices/system/cpu/cpu0/cache/index0/...

sysconf - getconf 

我一般都用 cp -rpa ，可以保留以前的所有文件属性，包括软链接

rgba support: libgladmm + gnome-color-chooser + librgba-gtk-module

Mt3QUhmG
13es213

NR2M-D825MCNC   ifort
N5D5-4T52PNGR   icc

/etc/passwd     every user
/etc/group      every group

/proc/mtd           mtd info
/proc/devices       device number
/proc/version       compiling details, uname -a
/proc/partitions    sys partitions
/proc/filesystems   all supported
/proc/cmdline
/proc/iomem
/proc/interrupts
/proc/softirqs      vmstat==int+irq
/proc/sys/kernel    kernel function switches

/var/run/cmd.pid    the running process
/var/www/appweb
/var/log/

192.168.199.179 202.106.0.20

ls -hil /proc/kcore 128T

ruby -e "print \"\x8b\x44\x24\x04\x8b\x5c\x24\x08\x8b\x00\x8b\x1b\x31\xc3\x31\xd8\x31\xc3\x8b\x4c\x24\x04\x89\x01\x8b\x4c\x24\x08\x89\x19\xc3\"" | ndisasm -u -

FSB 外频  带宽 网速  how many what??

VGA CRT     analog
DVI-D LCD   digital
DVI-I       both

ssh -p 2222 root@122.193.91.122
ftp 122.193.91.124 -> get somefile

外网通过ssh访问内网的方法：
$ ssh -f -N -R 7070:127.0.0.1:22 外网主机用户名@外网主机ip
$ ssh 内网主机用户名@127.0.0.1 -p 7070
原理：将外网7070的端口映射到内网主机的22端口
外网通过ssh访问内网的方法：
$ ssh -f -N -R 7070:127.0.0.1:22 外网主机用户名@外网主机ip
$ ssh 内网主机用户名@127.0.0.1 -p 7070
原理：将外网7070的端口映射到内网主机的22端口

/etc/ssh/ssh_config
/etc/ssh/sshd_config    port/protocol/login user/...

win -> lin  ssh
lin -> win  rdesktop

devhelp API documentation browser for GNOME

gmail c-TO; b-CC+BCC; d-CC

15298364486
13814193925

for Fedora  /etc/rc.d/init.d == /etc/init.d     all daemons
for Arch    /etc/rc.d        == /etc/init.d

top 1 to show cpu used
Tasks: 147 total,   1 running, 146 sleeping,   0 stopped,   0 zombie
Cpu0  :  5.6%us,  1.0%sy,  0.0%ni, 90.7%id,  2.6%wa,  0.0%hi,  0.0%si,  0.0%st
Cpu1  :  6.0%us,  2.0%sy,  0.0%ni, 89.7%id,  2.3%wa,  0.0%hi,  0.0%si,  0.0%st
us 用户空间占用CPU百分比 
sy 内核空间占用CPU百分比 
ni 用户进程空间内改变过优先级的进程占用CPU百分比 
id 空闲CPU百分比 
wa 等待输入输出的CPU时间百分比 
           us = user mode
           sy = system mode
           ni = low priority user mode (nice)
           id = idle task
           wa = I/O waiting
           hi = servicing IRQs
           si = servicing soft IRQs
           st = steal (time given to other DomU instances)


$ date -d @1234567890
Sat Feb 14 07:31:30     2009

sshfs user@server:/path localpath
fusermount -u /path or umount /path

cfdisk -> partprobe -> reboot (coz /dev/sdaNEW maybe not exists) -> mkfs.xxx
umount && mount to flush /dev/sdb*
mkfs.ntfs /dev/sdb8

compiling a new kernel but use only 1 core - power manager->acpi support

check machine's bits:
    machine:
cat /proc/cpuinfo | grep flags | grep ' lm ' | wc -l (if >0, means some long mode supported)
zcat /proc/config.gz | 64BIT (need config when compiling)
    depending on os, not machine:
arch (i386/i686/x86_64)
printf("%d\n", sizeof(long))

dmidecode		all hardware info
dmidecode -t processor	only show processor
bios,system,baseboard,chassis,processor,memory,cache,connector,slot

jp2a    jpg -> ascii

		     /sbin/mkinitcpio -k 2.6.34-systemd -c /etc/mkinitcpio.conf -g /boot/kernel26-systemd-fallback.img -S autodetect
==> Running command: /sbin/mkinitcpio -k 2.6.35-ARCH -c /etc/mkinitcpio.conf -g /boot/kernel26.img
:: Begin build
:: Parsing hook [base]
:: Parsing hook [udev]
:: Parsing hook [autodetect]
:: Parsing hook [pata]
:: Parsing hook [scsi]
:: Parsing hook [sata]
:: Parsing hook [filesystems]
:: Generating module dependencies
:: Generating image '/boot/kernel26.img'...SUCCESS
==> SUCCESS
==> Building image "fallback"
==> Running command: /sbin/mkinitcpio -k 2.6.35-ARCH -c /etc/mkinitcpio.conf -g /boot/kernel26-fallback.img -S autodetect
:: Begin build
:: Parsing hook [base]
:: Parsing hook [udev]
:: Parsing hook [pata]
:: Parsing hook [scsi]
:: Parsing hook [sata]
:: Parsing hook [filesystems]
:: Generating module dependencies
:: Generating image '/boot/kernel26-fallback.img'...SUCCESS


run in bg but don't respond to signal hangup
nohup cmd & == setsid cmd & == disown -h %n (n is the bg rank) == (cmd &) subshell

"rwx" can only touch a new file. not "-wx" "r-x" "rw-"
"r"	able to know the file inode(contained in the dir-file) but not the file info
"x" 	able to get into
"w"	base on "get into", buld new file
"-wx" u even have no privilege to "ls", but could get into and build new file

cvs -z3 -d:pserver:anonymous@cos.cvs.sourceforge.net:/cvsroot/cos checkout -P . (module name)

root			jedi
/etc/profile		/etc/bashrc
/etc/bashrc		~/.bashrc

console
/etc/profile
/etc/bashrc
~/.bashrc
~/.profile

curl -u armx86@gmail.com --silent "https://mail.google.com/mail/feed/atom" | perl -ne \ 
' 
print "Subject: $1 " if /<title>(.+?)<\/title>/ && $title++; 
print "(from $1)\n" if /<email>(.+?)<\/email>/; 
'

dnsutils    host nslookup nsupdate dig

/etc/fstab	auto mount
/dev/sda6	/media/MY	vfat	defaults	0	0

GCC replaces "stddef.h" with a copy that redefined the NULL as (void *)(0) instead of (int)(0)
	that's the reason why we can't find it in /usr/include

can't use '/' in a file name!!

linkers loaders
toolbox
Program Library HOWTO
Secure Programming 3.7
Coolshell cracker ld-linux.so

2.6.31	support USB3.0 (5gb/s)

xxd -s start -l length

file REL(.o .ko .a archive) SO EXE CORE_DUMP

size .bss .text .data dec hex

file a.out (no strip) > file a.out (stripped) > size (no strip) == size (stripped)

colordiff a b
colorgcc

gcc -g + ld	--> gdb
gcc    + ld -s  --> exe
sudo yum install gcc-g++
gcc -std=c89 c99 gnu89 gnu99
gcc -g -rdynamic -ggdb3 a.c                     standard args for debug
./a.out arg1 --> segment fault --> core.PID
gdb ./a.out core.PID
    bt / frame
    display mem range
        x /range hex/dec/oct/bin byte/half(2)/word(4)/giant(8)
        x /n(h|d|o|b)(b|h|w|g) 0x.......

gcc -dD -E a.out    output all #define in source, excluding which defined in gcc
    -Wp,opt     cpp
    -Wa,opt     as
    -Wl,opt     ld
    -D_macro    define
    -U_macro    undefine
    -ggdb3      for macro
    -gstabs     get linux sys info more, stabs is just file format, also we have -gstab -ggdb ...
    -march=i686 -mtune=generic
    -q a.out    quiet start
    -s a.out == ld -s == strip a.out
    -MM (excluding sys headers) main.o: main.c aaa.h
    -M                          main.o: main.c aaa.h stdio.h unistd.h ...
    -fstrict-overflow   generate more codes to check mem overflow
    -rdynamic   为可执行文件留下可用于动态连接的符号, 加载所有的符号
                向gcc传入-rdynamic，则链接器会得到-export-dynamic选项
    -static     link .a, not .so

#define NONE "\033[m"
#define RED "\033[0;32;31m"
#define LIGHT_RED "\033[1;31m"
#define GREEN "\033[0;32;32m"
#define LIGHT_GREEN "\033[1;32m"
#define BLUE "\033[0;32;34m"
#define LIGHT_BLUE "\033[1;34m"
#define DARY_GRAY "\033[1;30m"
#define CYAN "\033[0;36m"
#define LIGHT_CYAN "\033[1;36m"
#define PURPLE "\033[0;35m"
#define LIGHT_PURPLE "\033[1;35m"
#define BROWN "\033[0;33m"
#define YELLOW "\033[1;33m"
#define LIGHT_GRAY "\033[0;37m"
#define WHITE "\033[1;37m"
echo -e "RED xxx NONE"
fprintf(stderr, RED "current function is %s " BLUE " file line is %d\n" NONE, __FUNCTION__, __LINE__);

=======
    -static     link .a, not .so
>>>>>>> 0d17cffc57422a6974b884c1856812a607d66211

locate stdarg.h:
/usr/lib/gcc/i686-pc-mingw32/4.4.1/include/stdarg.h
/usr/lib/gcc/i686-redhat-linux/4.4.3/include/stdarg.h
->[stdarg.h is part of GCC, not Glibc]

gcc 的 specs 文件，告诉编译器要使用哪个动态连接器


ldd myip 
	linux-gate.so.1 =>  (0x009c5000)		IA32: sysenter syseixt
	libc.so.6 => /lib/libc.so.6 (0x00715000)
	libm.so.6 => /lib/libm.so.6 (0x00888000)
	/lib/ld-linux.so.2 (0x006f1000)


今天学会一个挺好用的反汇编方法，share一下：
objdump -j .text -Sl objtest | more
-S 尽可能反汇编出源代码，尤其当编译的时候指定了-g这种调试参数时，
   效果比较明显。隐含了-d参数。
   -l 用文件名和行号标注相应的目标代码，仅仅和-d、-D或者-r一起使用
     使用-ld和使用-d的区别不是很大，在源码级调试的时候有用，要求
       编译时使用了-g之类的调试编译选项。
       -j name 仅仅显示指定section的信息

       同时发现objdump这个指令功能强大，下面是几个我认为常用的option：
       objdump  -x  obj  以某种分类信息的形式把目标文档的数据组织（被分为几大块）输出   
       objdump  -t  obj  输出目标文档的符号表
       objdump  -h  obj  输出目标文档的section概括
       objdump --source -d a.ko

Ctrl-z --> SIGTSTP
This interactive stop signal is generated by the terminal driver when we type the terminal suspend key (often Control-Z). This signal is sent to all processes in the foreground process group.
Unfortunately, the term stop has different meanings. When discussing job control and signals, we talk about stopping and continuing jobs. The terminal driver, however, has historically used the term stop to refer to stopping and starting the terminal output using the Control-S and Control-Q characters. Therefore, the terminal driver calls the character that generates the interactive stop signal the suspend character, not the stop character.

Key Function
Ctrl-c Kill foreground process		--> kill 15 SIGTERM
Ctrl-z Suspend foreground process
Ctrl-d Terminate input, or exit shell	--> EOF / EOI(end of input)
Ctrl-s Suspend output
Ctrl-q Resume output
Ctrl-o Discard output
控制字符都是可以用(stty命令)更改的。
stty -a看终端配置

top:
us: user cpu time
sy: system cpu time
ni: user nice cpu time
id: idle cpu time
wa: io wait cpu time
hi: hardware irq (servicing hardware interrupts)
si: software irq (servicing software interrupts)
st: steal time (time in involuntary wait by virtual cpu while hypervisor is servicing another processor)
man vmstat
man mpstat

indent -linux -kr -gnu

* Ctrl + u：剪切光标之前的内容
* Ctrl + k：与上一个快捷键相反，剪切光标之后的内容
* Ctrl + y：粘贴以上两个快捷键所剪切的内容
* Ctrl + t：交换光标之前两个字符的顺序
* Ctrl + w：删除光标左边的参数（选项）或内容

e->extern    f->format mode	I->files in #include, important, other wise the output would be wrong
cproto -f2 -e -I include/ -o proto

应用程序可能会挂起，并且不能响应诸如 ctrl+c（SIGINT）之类的信号。这说明应用程序正在调用的系统调用在其内核模式下挂起了，一直不会返回用户模式

6000是什么服务的端口？没错，就是X Server。这里当然是远程X server

calls calltree strace ltrace truss lsof

flawfinder --minlevel --savehitlist --loadhitlist --diffhitlist --followdotdir(hidden dir)
	-c with source code
	-S every hit displays in a single line -- too ugly
	-D don't display the flawfinder's header'n footer
	-Q don't display which files are being examined
	-F just funcions
	-I --input just input func in stdio, like scanf getchar
	--listrules 160 rules in the ruleset
/* Flawfinder: ignore */

ps2pdf(12)   --   gs
ps2pdf13 acrobat 4.0
ps2pdf14 acrobat 5.0
ps2pdf14 -g9000x9000 -sPAGESIZE=a4 a.ps a.pdf

pdfmerge

eject  -- open disk drive

In both the data=ordered (default) and
data=writeback modes, shred works as usual.  Ext3 journaling modes can be changed by adding the  data=something  option
to  the  mount  options  for  a particular file system in the /etc/fstab file, as documented in the mount man page

time	a process's io mem used
main()
{
	void	print_msg(char *);

	print_msg("hello");
	print_msg("world\n");
}
void print_msg(char *m)
{
	int i;
	for(i=0 ; i<NUM ; i++){
		printf("%s", m);
		fflush(stdout);
		sleep(1);		/* total sleep 10 sec */
	}
}
/home/jedi/.src/uulp/CH14 > time ./a.out 
hellohellohellohellohelloworld
world
world
world
world

real	0m10.004s			/* sleep 10 sec + Ring3 + Ring0 */
user	0m0.001s
sys	0m0.003s


stdin stdout stderr --> /dev/null

m4	macro preprocessor

diff -Naur a_orig a > a.patch
cd a_org
patch -Np1(omit the 1st dir) < ../a.patch;
patch -RNp1 < .patch(reverse)
(should be a_orig not a_orig/), otherwise:
--- FVCOM_source_orig//alloc_vars.F	2011-01-10 18:03:34.353340271 +0800
+++ FVCOM_source//alloc_vars.F	2011-01-10 18:03:27.450006939 +0800

/etc/inittab	id:5:initdefault	X11

chmod jedi.jedi filename

/bin/rm		/sbin/rm	
can't be renamed or removed, other wise the machine wouldn't start

/etc/init.d  -> vboxdrv, wine, ...

xfwn4/kwin/compiz --replace	change compositing window manager

~/.kde/Autostart	auto execute the bash-scripts when get started

tilda needs thses libs:
libvte		very for terminal emulator, such as gnome-terminal xfce4-terminal
libconfuse	a configuration file parser library

pkg-config	retrieve information about installed libraries in the system
pkg-config --modversion libname		check whether the lib exists and show its version

change host name:
edit	/etc/sysconfig/network
edit	/etc/hosts

lsmod | grep nvidia/nouveau		show the status of modules in the linux kernel  /proc/modules

system-config-boot/display/...		check'n change sys config
after install nVIDIA's drive, the monitor would be so faint, just run "system-config-display"

monit -d seconds    to overrides 'set daemon seconds' in monitrc
/etc/default/monit
    startup=1;
    CHECK_INTERVALS=180

/etc/yum/plugins/plugin.conf	--> 	if ENABLED=0, then the corresponding plugin wouldn't run with yum

yum->fastestmirror->fastestmirror.conf->/var/cached/yum/timehosts.txt

if use yum to install sth. don't alter target until the fist had been installed, other wise :
Loading mirror speeds from cached hostfile
how to deal with:
remove fastestmirror, finish the previous task, reinstall fastestmirror

axelget: sudo ./configure --i18n=1	internationalizaion -- multi language support
sh: axel command not found -> cd /usr/bin && sudo ln -s /usr/local/bin/axel
or:
yum install axel
rpm -ivh yum-axel... (it is a goolge project, and need axel installed firstly)

axel -a(show ... progress) -n 10
aria2c -m 2 -s 10

in /etc/yum.repo.../*repo	add "&country=us" to every mirrorlist, except livna
in livna, use MIRRORLIST instead of BASEURL

gconf-editor
~/.config/autostart/vilta.desktop	~/.config/compiz	~/.config/sakura
~/.gconf		~/.kde

yum install ccsm emerald* compiz* fusion-icon*
CLI:	compiz-manager	fusion-icon

save plasma, when it crashed:
kbuildsycoca4
kquitapp plasma-desktop
kstart plasma-desktop

/usr/sbin/mklost+found

Google:	xxx filetype:pdf

~/.kderc	all fonts settings

Power - WLAN - WPS - RESET

PPPoE是WAN口连接类型

/etc/sysconfig/i18n	internationalization
there're 18 chars between I and N

/proc/sys/kernel/sysrq	default 0
/etc/sysctl.conf	kernel.sysrq=1

PS3 和 PC 属不同 cpu 体系， qemu 需要动态翻译 x86 到 ppc 指令。 qemu 动态翻译是 1/10 速度，已经比 bochsx、pearpc 的 1/200 快太多了

diff2html 是一个 Bash 脚本，利用管道机制将 diff 输出结果转换为彩色的 HTML 文档，便于向他人提供易于观看的 diff 对比结果
用法： diff -u file1 file2 | diff2htm >l result.html

grep	'sth. wanted' filename
grep 	string/mode filename
grep	-i ignore case 
    -l only print file name
    -r recursive
	-n adding the line-num while printing
	-w namely, \<...\>
	-v excluding
	-b byte-offset of the line printed
	-o only print the matched part out
    --include="*.c"     only apply to c file

grep			\{\}
grep -E == egrep	{}
vim			\{}

look	default search the STRING in /usr/share/dict/words		480k words
look	string filename

let g:BASH_Root = "&Plugin.B&ash."
&	-- hot key
.	-- has submenus

ifconfig -a to show all available including the close
ifconfig eth0 hw ether xx:xx:xx:xx:xx:xx  改网卡mac，需要重启
ifconfig -a 查看网络设备
ifconfig eth(n) xxx.xxx.xxx.xxx netmask 255.255.255.0 设置网卡 eth(n) 子网及ip (n=0,1,2...)

firewall is the main switch, then set the IP-filter, MAC-filter, DOMAIN-filter(LAN/WLAN)
	WLAN-MAC-filter controls only WLAN

.indent.pro :
--blank-lines-after-procedures
--brace-indent0
--comment-indentation49
--declaration-comment-column49
--declaration-indentation10
--space-after-parentheses
--swallow-optional-blank-lines
--tab-size2

CFLOW_OPTIONS -> CFLOWRC (.cflowrc) -> explicit opts
--omit-symbol-names
--omit-arguments
--main (-m) func_name
--reverse (-r)
--number (-n)
--include (-i _ x)	_ func name start with _; x varibles; t type name
--cpp (/usr/bin/cpp) / --symbol __attribute__:wrapper
--xref

"no matches found for cscope query"
if change dir in GVIM, then the sentence above may appear, deal with:
:cs kill 0		cut this connection to cscope
:cs add cscope.out	add a new connection

[[	prev {		prev func
]]	next {		next func
[]	prev }		
][	next }

/sys/power/state	standby mem disk				
/sys/power/disk		platform test testproc [shutdown] reboot
echo (standby|mem|disk) > /sys/power/state		Suspend to RAM(STR)				sleep
echo (platform|test|testproc|reboot|shutdown) > /sys/power/state; echo disk > /sys/power/state		hibernation
hibernation needs a resume device, regularly, SWAP:
kernel /boot/vmlinuz root=/dev/sda1 resume=/dev/sda2 vga=0x314 ...
sys check for whether there's a hibernation image when poweron

man -k keyword		find all info contain keyword

utmp wtmp	login records
/usr/include/bits/utmp

open a file == make the connection between proc and file

UNIX doesn't prohibit a file opened by several procs. if does, we can't use WHO

same file with different FD: 1. a proc open the same file many times; 2. a file is opened by several procs

/usr/include/path.h

当进程请求的数据不在系统缓冲区时，内核把该数据加入数据需求队列，然后挂起该进程，继而为其他进程服务

read	sys_buf -> user_buf
write	reverse			they aren't equal to "HD -> SYS BUF"

file_pointer bind with fd, not the file. if a file be opened twice, there must be 2 diff pointer controled by diff procs

lseek(fd, 0, SEEK_CUR);	-> get the current position

fsck (filesystem consistency check)

NIS: network info system, a hostmachine holds everyuser's info

swap <-> mem (sequential) -->  hd <-> mem (separate)

Sticky - make it always in swap, i.e. games, loading quicker. but nowadays we use Virtual Memory more than Sticky

drwxrwxrwT	/tmp:	all users can write in this dir, but only the owner can delete the corresponding ones

once a file built, it's type can't be changed

every file in the FS would have it's own i-node

FS   == superblock + inodes(properties + data block list sequence) + data block(content)
DIR  == NO. inode + file name
file == content + properties

FS in sys opinion: named pointer list

"a_file_name" -> DIR(inode) -> inode[](check properties -> block list sequence) -> read 1 by 1

inode[2] == 3rd item in inode

ls -s	blocks
i.e.: 	8 aaa.c

ls -1ai (1: 1 record per line; i: NO.inode)

---------------------------------------------------------------------------------------------
rm	unlink	: decrease the num of links. if == 0, remove the data in the hd. can't work on dir
ln	link	: can't create a link to a dir
mv	rename	: == link + unlink; remove the data in the hd

MV: file has no name, so it's data in hd never change place!!. so when use mv, just take a item(NO.inode-file name) from a dir to
    another. but if mv a file from one FS to another, it's real physical copy then delete the original one
---------------------------------------------------------------------------------------------

cd just make the influence on proc, not the dirs
a PROC has a data field named "inode", i.e. current dir's NO.inode

/ . inode == .. inode	only 1 in the hole system

"inode"			     "size"	 "time"
 2010 -rw-rw-r--. 2 jedi jedi 641  2月  4 17:50 test.c
 2010 -rw-rw-r--. 2 jedi jedi 641  2月  4 17:50 test.c.hl		(inode)can't span FS, can't link to dir
 2012 lrwxrwxrwx. 1 jedi jedi   6  2月  4 18:18 test.c.sl -> test.c	(name)span FS, link to dir

hl:		      stat - original file info
sl:	stat - link; lstat - original file info; readlink - original file name (sys-cal symlink)

od -c /dev/sda | more

ls -al:
drwxrwxr-x.  4 jedi jedi  4096  2月  4 18:40 .		4 == . + .. + CH01 + CH02
drwx------. 62 jedi jedi 12288  2月  4 18:18 ..		62 == . + ../*
drwxrwxr-x.  2 jedi jedi  4096  2月  3 21:09 CH01
drwxrwxr-x.  2 jedi jedi  4096  2月  4 01:09 CH02
-rw-rw-r--.  1 jedi jedi     0  2月  4 18:40 mmm	no contribution

the dest dir has some other files, after mounting, the original files disapear and show again when umount

sys-calls aimed to file, also work on devices. but some exceptions in some circumstances: write -- mouse

"device file is link, not container"

ls -il /dev/pts/2:
pointer			 m    s
5 crw--w----. 1 jedi tty 136, 2  2月  4 21:37 /dev/pts/2
device-proc table NO.136 program, it get a parameter, here is "2"
NO.inod 5	a pointer to exe program

rm file		remove inode; release data blocks
rm device	remove inode; device drive also stay on hd. use mknod(man 1 2)

用strace也可以，strace一下看看有没有搜索PATH的过程就知道。
strace /bin/bash -c ‘time > /dev/null’

soft tool: treat file and device the same

动态库查看方法：nm -D libavformat.so
静态库查看方法：ar -t libavformat.a

tty:	normal mode == cooked mode 

comm -23 file1 file2	-1: remove lines unique to file1; -2: to file2; -3 common

graphviz: dot

meld	diff f1 f1 | gvim -

wc -c a.out	size

以优化指令来减小大小是比较困难的

/usr/include/asm/unistd_32.h	sys-call: 335

8080端口同80端口，是被用于WWW代理服务的，可以实现网页浏览，经常在访问某个网站或使用代理服务器的时候，会加上“:8080”端口号，比如http://www.cce.com.cn:8080。 
8080端口可以被各种病毒程序所利用，比如Brown Orifice（BrO）特洛伊木马病毒可以利用8080端口完全遥控被感染的计算机。另外，RemoConChubo，RingZero木马也可以利用该端口进行攻击。 
一般我们是使用80端口进行网页浏览的，为了避免病毒的攻击，我们可以关闭该端口。

---------------------------------------------------------------------------------------------
as:
gcc -Wa,-I include/ (usr comma instead of space)	pass the as args from gcc, no need to add include prefix

--statistics  	space allocated during the assembly(inbytes); total execution time taken forth eassembly(in cpu seconds)
frag chains:
	0x9bd63b0 .text     	         7 frags
	0x9bd63fc .data     	         2 frags
	0x9bd6448 .bss      	         2 frags
	0x9bd65c4 .rodata   	         2 frags
	0x9bd6610 .comment  	         2 frags
	0x9bd665c .note.GNU-stack	 2 frags
fixups: 16
13 mini local symbols created, 13 converted

---------------------------------------------------------------------------------------------

if u used an escape sequence u clearly didn't want the literal interpretation of the following character

txt == plain text
doc == bin + text(garbled)	==> diff-encode; diff-format

flawfinder	lexical analysis
splint		parsing code

sudo: u must have a (TTY) to run it
su -c ''	not the problem

GIT:
git init	--	.git
vim .gitignore
git add			have it tracked
git commit -a(skip modified -> staged) -m 'msg'
git rm --cached \*		remove from cache. 'cause shell will dereference "*", so use "\", recursive
git rm				remove from tracked
git log --stat --pretty=short/full/fuller
git tag	v1.0				(simple tag)
git tag -a 1.0 -m 'optimized 8259a'	(complicated ont)
git reset HEAD~3
git reset HEAD ORIG_HEAD
last three commits (HEAD, HEAD^, and HEAD~2) 
cat .git/logs/HEAD to find all commit string
git remote add origin git@github.com:treblih/a.git
git remote rename old new
git push origin master
when change the name of repo in github, edit .git/config

    Not currently on any branch:
git checkout -b a_brch_want_merge
git checkout master
git merge a_brch_want_merge

every "committed" part would be drawn back

.git/info/exclude
    *.exe       to exclude all exe in recursive path
    !a.exe      negated exclude a.exe in current dir


/etc/bash_completion.d	auto loaded, just like ~/.vim

free 		/proc/meminfo
ipcs -m		shared memory

6 items, but only 5 available
# Default runlevel. The runlevels used are:
#   0 - halt (Do NOT set initdefault to this)
#   1 - Single user mode
#   2 - Multiuser, without NFS (The same as 3, if you do not have networking)
#   3 - Full multiuser mode
#   4 - unused
#   5 - X11
#   6 - reboot (Do NOT set initdefault to this)

strace -c -o aa.out	-c sort by consumed time
       -p PID		attach to a running proc 

libc/int 0x80		libc needs load dynamic loader to memory firstly:
execve("/bin/pwd", ["pwd"], [/* 72 vars */]) = 0
brk(0)                                  = 0x86cd000
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7789000
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat64(3, {st_mode=S_IFREG|0644, st_size=132245, ...}) = 0
mmap2(NULL, 132245, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb7768000
close(3)                                = 0
open("/lib/libc.so.6", O_RDONLY)        = 3


类型		行数		百分比
2.6.27		6,399,191
驱动程序	3,301,081	51.6
架构 		1,258,638 	19.7
文件系统 	544,871 	8.5
网络 		376,716		5.9
声音 		356,180 	5.6
Include（包含） 320,078 	5.0
内核 		74,503 		1.2
内存管理 	36,312 		0.6
密码学 		32,769 		0.5
安全 		25,303 		0.4
其它 		72,780 		1.1

loop device is a device driver that allows an image file to be mounted as though it were a normal block device
The Linux loop device can be used to handle this - it makes a file look like a filesystem, 
    and the file can be defined as a byte offset from the beginning of a primary partition
Fedora-13-Beta-i386-DVD.iso is not a block device (maybe try `-o loop'?)
make a normal file (.iso) regarded as a block file (cdrom)

内存中触发器的现在状态是由之前的状态和其电气特性决定的，总之仍是被决定的。

wc -c a.out	size

export: display all env vars

glibc version of <stdlib.h> includes <alloca.h> and that contains the line:
           #define alloca(size)   __builtin_alloca (size)

Foreign function interface(FFI)
	c always is the callee, since it's a low-level language
	for more info, see WIKI


make -C $(SUBDIR)	-C always auto bind with -w (--print-directory)


=============================================================================================================
dmesg -c (print then clean) > sys_setup_msg
rhgb (red hat graphic boot)

ro root=/dev/sda8(read only to mount root-fs, but when starting, will remount it as RW)

wget -nc (skip the existing one, otherwise download a copy) -i download_list.txt
wget -i file
wget URL -O newname.jpg

$ wget -r -np -nd http://example.com/packages/
这条命令可以下载 http://example.com 网站上 packages 目录中的所有文件。其中，-np 的作用是不遍历父目录，-nd 表示不在本机重新创建目录结构。
$ wget -r -np -nd –accept=iso http://example.com/centos-5/i386/
与上一条命令相似，但多加了一个 –accept=iso 选项，这指示 wget 仅下载 i386 目录中所有扩展名为 iso 的文件。你也可以指定多个扩展名，只需用逗号分隔即可。
$ wget -i filename.txt
此命令常用于批量下载的情形，把所有需要下载文件的地址放到 filename.txt 中，然后 wget 就会自动为你下载所有文件了。
$ wget -c http://example.com/really-big-file.iso
这里所指定的 -c 选项的作用为断点续传。
$ wget -m -k (-H) http://www.example.com/
该命令可用来镜像一个网站，wget 将对链接进行转换。如果网站中的图像是放在另外的站点，那么可以使用 -H 选项。

chmod a+wt /dir

readelf -l <name of binary> | grep interpreter		know the dynamic linker in Glibc [/lib/ld-linux.so.2]

ld --verbose | grep SEARCH :
SEARCH_DIR("/usr/i686-redhat-linux/lib"); SEARCH_DIR("/usr/local/lib"); SEARCH_DIR("/lib"); SEARCH_DIR("/usr/lib");

inner a cmd, +h		flush bash hash

vi替换使用规则： 
:g/s1/s/s2/s3/g 
第一个g表示对每一个包括s1的行都进行替换，第二个g表示对每一行包括s1的行所有的s2都用s3替换 
s表示替换，s2是要被替换的字符串，他可以和s1相同（如果相同的话用//代替），s3是替换字符串

:g/^/m0		reverse all lines

:X		encryption

convmv -fbig5 -tutf8 -r --notest  recursive
iconv -f(from-encode) gbk -t(to-encode) utf8 linux常用命令.txt > linux常用命令.txt.utf8
    #!/bin/sh
    iconv -c -s -f big5 -t utf8 "$FILE" > "$FILE.tmp"
    sed -e s/big5/UTF-8/ -e s/Big5/UTF-8/ -e s/BIG5/UTF-8/ "$FILE.tmp" > "$FILE"
    rm "$FILE.tmp"

    find . -name "*.htm*" -exec big5utf8.sh {} \;

mount	/dev/sdb1(if use sdb, it says "U must specify the filesystem type)	/media/usb

dpkg - aptitude
yum  -

fedora		.bash_profile
ubuntu		.profile

recover the file deleted by RM
rm命令其实并不是真正的从物理上删除文件内容，只过不把文件的inode回收了，其实文件内容还在硬盘上
grep -a -B 50 -A 60 'some string in the file' /dev/sda1 > results.txt
-a binary-files=text

查看当前区域内的无线网络: nmcli dev wifi
启动网络名为 Fedora 的链接：nmcli con up id Fedora

evince chinese:
0 extra/poppler-data 0.4.4-1 [installed]
    Encoding data for the poppler PDF rendering library


lftp qhzhao:722368@202.195.238.91
lftp qhzhao@202.195.238.91:~> mirror FVCOM2.7.1
get  single file                    put
mget single file but wildcard       mput
mirror  copy dir
mirror -R upload dir

scp a->b
scp qhzhao@202.195.238.91:/home/qhzhao/FVCOM2.7.1/ ./     -- download

ulimit -a   show all limit
-t: cpu time (seconds)         unlimited
-f: file size (blocks)         unlimited
-d: data seg size (kbytes)     unlimited
-s: stack size (kbytes)        8192         default is 8m
-c: core file size (blocks)    0            core dump file size
-m: resident set size (kbytes) unlimited
-u: processes                  8017
-n: file descriptors           1024
-l: locked-in-memory size (kb) 64
-v: address space (kb)         unlimited
-x: file locks                 unlimited
-i: pending signals            8017
-q: bytes in POSIX msg queues  819200
-e: max nice                   20
-r: max rt priority            0
/etc/security/limits.conf
    @wheel soft nofile 4096
    @wheel hard nofile 8192     soft&hard both set, otherwise useless

core dump:
    dmesg 
        testseg[26063]: segfault at 0000000000000000 rip 0000000000400470 rsp 0000007fbffff8a0 error 6
    error code 6
        bit2: 值为1表示是用户态程序内存访问越界，值为0表示是内核态程序内存访问越界
        bit1: 值为1表示是写操作导致内存访问越界，值为0表示是读操作导致内存访问越界
        bit0: 值为1表示没有足够的权限访问非法地址的内容，值为0表示访问的非法地址根本没有对应的页面，也就是无效地址 
    addr2line -e testseg 0000000000400470

!!gs/old/new
=============================================================================================================

doxygen -g -s(strip comments)
    then edit ./Doxygen
doxygen:
以下三项必须设置成“YES”才能把函数调用和被调用图给搞出来。
HAVE_DOT = YES
CALL_GRAPH = YES
CALLER_GRAPH = YES
doxygen帮助文件中，对“HAVE_DOT”的解释如下：
HAVE_DOT 
If you set the HAVE_DOT tag to YES then doxygen will assume the dot tool is available from the path. This tool is part of Graphviz, a graph visualization toolkit from AT&T and Lucent Bell Labs. The other options in this section have no effect if this option is set to NO (the default)。

蠕虫（worm）和病毒（virus）都是试图在计算机中传播他们自己的代码。但蠕虫可以自己运行，并且能够将一个完全有效的自己传播到其他机器。病毒能够将自己添加到包括操作系统在内的其他程序中，但它不能独立运行。

32位的XP上安装虚拟机 ，里面的操作系统可以是64位的吗？ 
CPU要支持Intel VT或AMD-V虚拟化技术

droopy:
mv droopy /usr/bin
mkcd receiced
python /usr/bin/droopy -m 'here is the inbox' -p xxx.png

du -sh dir/	show dir size in proper way


vim:	
± ² ³ ´ µ ¶ · ¸ ¹ ° ½
ñ ÷ å ò ô ù õ é ï ð Û Ý Ü
á ó ä æ ç è ê ë ë ì » §
ú ø ã ö â î í ¬ ® ¯
¡À£¤¥Þ¦ª¨©ß«
Ñ×ÅÒÔÙÕÉÏÐûýü
ÁÓÄÆÇÈÊËÌº¢
ÚØÃÖÂÎÍ¼¾¿

=======================
v (select zone) -> y (yank to register `0') -> / C-r-0 (dump to search) or F5 C-r-0 (dump to replace)
=======================

C-x C-l     match an existing line
C-x C-f     filename match under current vim dir
-b(essential) a.bin, then :%!xxd, edit 0x.., not ascii
:tag write_<tab>    :tag /block<tab>    :tag /^block<tab>
:tselect write
:12,17 w>> ~/163.txt
:ColorSchemeExplorer
set t_Co=256 (terminal color)
set ignorecase
set expandtab(fill tab with spaces)
:version	show all features included or not
compiling vim:
vim72/src/Makefile, add below
	CONF_OPT_CSCOPE		= --enable-cscope
	CONF_OPT_PYTHON		= --enable-python
	CONF_OPT_INPU		= --enable-xim
	CONF_OPT_MULTIBYTE	= --enable-multibyte
	CONF_OPT_FEAT		= --with-features=huge
    CONF_OPT_OUTPUT     = --enable-fontset  # X fontset support, 
    CONF_OPT_COMPBY     = “–with-compiledby=Yang Zhang<armx86@gmail.com>”
	prefix			    = $(HOME)
        Warning: Missing charsets in String to FontSet conversion
        Warning: Unable to load any usable fontset
        Warning: Missing charsets in String to FontSet conversion
        Warning: Unable to load any usable fontset
        Error: Aborting: no fontset found                   libgtk2.0-dev; delete vim/ then tar again
<         gtk >= 2.0, 
<         if make && make install don't work, delete vim/ then tar again
<     warning: missing charsets in string to fontset conversion
<     warning: unable to load any usable fonset
<     E665: cannot start GUI, no valid font found
no gtk dev env found, install gtk dev, remember to add when install Fedora

查看一下configure的输出，看看为什么不能编译gvim。configure的输出为vim72/src/auto/config.log
then make(no args, 'cause they had been added when modified the Makefile), makefile, no ./configure

diff a b | vim -	highlight the diff results
let MRU_Include_Files = 'REGX'		forever including
let MRU_Exclude_Files = 'REGX'		forever excluding
:shell	start gvim plugin term, just like someone else
:!	can't use bash alias
gvim `egrep -rl AAA|BBB *`	r recursive
:argdo %s/a_value/b_value/gec | update		need to Confirm
:argdo %s/a_value/b_value/ge  | update		directly rewrite
=G  all source format
C-r=(insert)  convert hex(input) to dec
C-a(normal) when on a number, inc
C-x(normal) when on a number, dec
:make	-- set makeprg=gcc\ -Wall.... -Wextra
ga  ascii of a char under the cursor
gf  open the file
gd  find the word under cursor in current buffer

其中 tabstop 表示一个 tab 显示出来是多少个空格的长度，默认 8。
softtabstop 表示在编辑模式的时候按退格键的时候退回缩进的长度，当使用 expandtab 时特别有用。
shiftwidth 表示每一级缩进的长度，一般设置成跟 softtabstop 一样。
当设置成 expandtab 时，缩进用空格来表示，noexpandtab 则是用制表符表示一个缩进。

set list
set listchars=tab:▸\ ,eol:¬


cp:
cp -rf imports /usr/local/splint/
cp -rf lib/ /usr/local/splint/
编辑 .bash_profile，设置：
export LARCH_PATH=/usr/local/splint/lib
export LCLIMPORTDIR=/usr/local/splint/imports

cp a.c /dev/pts/2	show the contents of a.c	namely write chars to /dev/pts/2, so it shows back

alias 'cp=cp -i' cp -rn works ok, but -rf
-f, --force         if an existing destination file cannot be opened, remove it and try again (redundant if the -n option is used)
-n, --no-clobber    do not overwrite an existing file (overrides a previous -i option)

slim a.out:
    1. -strip (huge)
    2. -O3 (tiny)
    3. asm not c, use main/%eax (tiny)
       gcc adds argc/argv then calls main()
    4. skip all init/exit code provided by glibc    -nostartfiles _start _exit() (huge)
    5. system call, not stdlib call                 -nostdlib int 0x80 (huge)
    6. nasm -> gas (tiny)
    7. elf header(52) + program header table (huge)
    45 is the smallest


gdb:
1.gdb --args ./a.out arg1 arg2
2.gdb; run arg1 arg2
b *0x8017800
info local   显示当函数中的局部变量信息。 
info prog    显示被调试程序的执行状态。 
info var     显示所有的全局和静态变量名称
p /x $eax  $pc(program counter) $fp(frame pointer) $sp(stack pointer) $ps(processor state)
display 程序停止时显示变量和表达时
down 下移栈帧，使得另一个函数成为当前函数
up 上移栈帧，使另一函数成为当前函数
frame 选择下一条continue命令的帧
info 显示与该程序有关的各种信息
jump 在源程序中的另一点开始运行
pype 显示一个数据结构（如一个结构或C++类）的内容
set variable 给变量赋值
whatis 显示变量或函数类型

cd gdb7/gdb/doc
sudo ./configure
sudo make refcard.ps

disas [/m][/r] <foo> 
/m  反汇编时顺便列出C代码
/r  顺便给出opcode （gdb以前只能用x命令查opcode，土的掉渣）
set disassemble-next-line (on|off|auto)
设置这东西之后，next命令就可以列出下一条汇编语句了。


virtualbox:
===> In order to run VirtualBox, you have to  be in the 'vboxusers' group.
===>
===> If you want to be able to install guest additions, you have to install
===> 'virtualbox-additions' package.
===>
===> You must load vboxdrv module before starting VirtualBox:
===> # modprobe vboxdrv
===>
===> You must load vboxnetflt for Host Interface Networking:
===> # modprobe vboxnetflt
===>
===> You must load vboxnetadp for Host-Only networking:
===> # modprobe vboxnetadp
===>
===> To load it automatically, add vboxdrv module
===> to the MODULES array in /etc/rc.conf.

*** To compile the modules do /etc/rc.d/vboxdrv setup ***
----
Enhanced Functions always setup in guest machine
mount -t vboxsf share /home/jedi/share
share /home/jedi/share vboxsf rw,gid=100,uid=1000,auto 0 0
----
upgrade Fedora to PAE, can't compile it's module
install dkms & kernel-PAE/kernel-PAE-devel, as lack of kernel-headers, PAE has no kernel-headers


yum:
yum install alacarte.noarch (gnome main menu)

"sudo yum install yum-xxx"
yum: auto-update-debuginfo, axelget, blacklist, fastestmirror, presto, priorities(official-community-3party), refresh-packagekit, security, whiteout

alot of python errors like __init__...
yum clean all && rm -f /var/lib/rpm/__db* && rpm --rebuilddb && yum update

startup applications -- don't use &, otherwise it won't be run

mount -o iocharset=utf8 /dev/sdb2 /mnt/platinum

PPID   PID  PGID   SID TTY      TPGID STAT   UID   TIME COMMAND
 531   533   533   533 ttyS0      565 Ss       0   0:00 -bash
   1   551   551   551 ?           -1 Ss       0   0:00 SCREEN
 551   552   552   552 pts/0      554 Ss       0   0:00 /bin/bash
 552   554   554   552 pts/0      554 S+       0   0:01 vim helloworld.c
     |-login---bash---pstree
     |-screen---bash---vim

Ctrl-a M. 这样当前窗口如果出现变化，系统会通过message来通知你 
Ctrl-a _. 正好是上面的反面，如果当前窗口15秒都没动静了，则screen会发一个msg.

echo $SHLVL
[detached]
[screen is terminating]
root@localhost:/root> screen -wipe
There is a screen on:
	626.console.localhost	(Removed)
1 socket wiped out.
No Sockets found in /root/.screen.

CRC check failed:   repo.xml broken, yum clean all


apt-get:
    $ apt-get update
    GPG error: http://mirrors.163.com lenny Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY
    $ aptitude install debian-archive-keyring
    $ apt-get update

pacman: == powerpill
    S   pkg
    Su  upgrade sys according to local db 
    Syu refresh local db then upgrade
    Sw  download but without installing
    U   install a local pkg; /path/pkg | http://path/pkg
    Qo  
    Rsn remove it & config file & dependencies
    IgnorePkg=...
    IgnoreGroup=...
    /tmp/packerbuild-.../tools/src
    yaourt -Syu --aur   update aur

rpm:
rpm -qa (query all) | grep xxx
rpm -e xxx (delete)
rpm -ql xxx (find all installed path)
rpm -qf /etc/rsyslog.conf
        % sysklogd-1.4.1-44.el5

sendmail:
/etc/mail/sendmail.mc  only change settings here
m4 /etc/mail/sendmail.mc > /etc/mail/sendmail.cf
(if no m4, yum install sendmail.cf)
/etc/init.d/sendmail restart
sendmail -ivf support@hotdresscool.com  armx86@gmail.com < tmp/a.mail

cat a.mail --
From: HotDressCool Support Team <support@hotdresscool.com>
To: armx86#gmail.com (essential!!!)
Subject: topic
sdfasdfsdf
my  boe welcome

mail -v -s 'topic' -r "HotDressCool Support <support@hotdresscool.com>" armx86@gmail.com < tmp/a.mail
