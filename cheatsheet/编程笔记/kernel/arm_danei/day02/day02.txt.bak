回顾：
1.要求
  安装纯linux系统
  安装软件
  vim/.vimrc/.vim
  gcc,g++,QT(qtcreator)

2.嵌入式
  面试题：谈谈对嵌入式系统的理解
  1.谈定义
    用户需求为中心
    学好编程
    软件,硬件可裁剪
    举例子
    功能
    可靠性
    价格
    功耗
    结论：性价比
    
  2.应用领域
  各行各业
  
  3.物联网 
  标准
  协议
  
3.嵌入式系统的组成部分
  由硬件和软件组成
  硬件由用户的需求来定义
  软件由硬件来决定
  
4.嵌入式系统组成部分之硬件
  根本目的：了解和掌控整个产品的硬件信息
  以TPAD为例：
  粗看(宏观看)：
  	核心板：
  		三大件：
  		CPU:三星,S5PV210
  		闪存：三星,K9K8G08U0B(8G小b)
  		内存：K4T1G084QF(1G大B) 		
  		
  	底板：
  		外围接口
  		网卡:联网
  		USB口(4大1小)：连接USB设备
  		串口(2个,9针串口座)：调试,通信
  		电源
  		音频输入和输出：处理声音
  		视频输出口(三个)
  		HDMI(1个)
  		按键(8个)：人机交互
  		蜂鸣器(1个)：报警
  		LCD屏接口(LCD屏分辨率800*480)
  		JTAG口：下载软件
  		SD卡：连接SD卡
  		拨码开关：设置启动方式?
  		TF卡:连接TF卡
  		SPI接口：连接SPI接口设备
  		摄像头接口：连接摄像头
  		485接口：连接486接口设备
  		用放大镜看底板上相关的芯片信号
  		
  细看(微观看)：
  		根据原理图和芯片手册来细看
  		原理图：开发板硬件设备电路图
  		芯片手册：芯片的使用说明书
  		核心板原理图：
  		  CW210_CORE_LHGZ.pdf：
  		  板子背面标示融汇广泽	
  		  CW210_CORE_TARENA.pdf：
  		  板子背面表示TARENA或者无
  		底板原理图：
  	          CW210-Peripherial.pdf  
  		总结：原理图的本质就是告诉外设
  		器件跟CPU的连接方式(连接线)
    
  		芯片手册：
  		S5PV210的芯片手册：
  		S5PV210_UM_REV1.1.pdf
  		总结：芯片手册告诉你芯片的如何
  		使用
  常用的嵌入式处理器：
  关键点：选型的基本原则
  	  性能要合适
	  价格要合理
	  后期要有技术支持
  单片机：51,AVR,PIC,MSP430,STM32(ARM,cotex-M系列)
  MIPS:北京君正
  ARM:三星,飞思卡尔,Atmel,TI,xilinx,高通,MTK
  PowerPC:飞思卡尔 MPC8548  
  X86:k900,编译器
      
5.嵌入式系统组成部分之软件
  软件是硬件的灵魂
  软件分为：
  无操作系统的软件：
  	板卡运行的软件不带操作系统
  	软件的框架：
  	main(void) {
  	   //1.硬件初始化
  	   //目标：让硬件工作在一个指定状态
  	   led_init();
  	   keyboard_init();
  	   uart_init();
  	   sd_init();
  	   network_init();
  	   usb_init();
  	   ...
  	   
  	   //2.进入死循环,处理业务请求
  	   while(1) {
  	   	... //处理业务
  	   }
  	}
  	特点：无多任务,任务只有一个
  	      功能比较单一
  	      
  有操作系统的软件：
  	板卡运行操作系统 

6.板卡运行操作系统下的软件布局
  6.1.嵌入式操作系统：
  UCOS-II:小型,多任务,实时性比较强的操作系统
  	  支持文件系统(种类较少),支持TCP/IP
  	  开源
  WINCE:简化版本的windows,付费  
  vxworks:多任务,实时性强的操作系统,付费
          开发模式和linux很相似
  linux：多任务,软实时的操作系统
  	 开源
  	 Android本质就是基于linux实现
  	 支持多种文件系统
  	 	NTFS,FAT32,EXT2/3/4,cramfs
  	 	jffs2,yaffs2,ubifs,debufs,
  	 	procfs,sysfs,tmpfs ...
  	 支持功能强大的网络协议栈
         cge版本(电信)的linux(付费)
  总结：操作系统的选型归根结底还是用户的需求
        和产品的定位
         
  6.2.嵌入式系统软件启动过程
  以嵌入式linux系统为例：
  1.硬件上电以后,首先运行第一个程序
    这个程序叫bootloader;
    此程序主要的功能：
    初始化CPU
    初始化内存
    初始化闪存
    初始化相关的外围设备
    让硬件工作在一个指定的状态
  2.此程序运行到最后将linux操作系统内核(kernel)
    从闪存上加载内存中,并且从内存中将操作系统
    引导起来,操作系统内核一旦启动,bootloader
    的生命周期到此结束
  3.操作系统内核kernel将会运行
    主要功能：
    1.加载各个外设的硬件驱动
    2.初始化网络协议栈
    3.初始化各种文件系统
    4.初始化内存管理子系统
    5.初始化进程管理子系统
    6.初始化具体CPU相关的硬件
    7.初始化IPC通信
  4.内核运行到最后,要挂接根文件系统rootfs
    最后将控制权交给用户,启动用户应用程序QQ
    内核继续在内存中运行,直到硬件掉电
    root：根
    fs：file system
    
    类比：
    Windows		  Linux
    BIOS		  bootloader
    window内核		  Linux内核
    挂接C盘根文件系统     挂接根文件系统(Flash上某个分区)
    启动windows桌面应用   启动应用软件QQ
    启动QQ		
   
    画出嵌入式linux系统软件的部署(Flash)
    明确：软件组成
    	bootloader:硬件初始化
    	kernel：7大子系统的初始化
    	rootfs(app):包含应用程序
    1.上电,CPU自动从Flash加载bootloader到内存运行
    2.bootloader运行做硬件初始化
      最后从Flash加载内核kernel到内存运行
    3.内核开始运行，初始化7大子系统
      最后挂接Flash上的根文件系统rootfs
      至此控制权交给用户
    4.如果根文件系统的某个软件要运行,kernel会自动加载
      程序到内存中运行

7.使用开发板      
  7.1.需要一台PC主机,又称上位机
      功能：编辑,编译源码
  7.2.开发板又称目标板又称下位机
      功能：上位机编译的程序运行在上位机
      下位机编辑编译源码的速度相对上位机太慢
  7.3.上位机和下位机的连接方式(通信方式) 
      软件下载方式,通信方式有四种：
      USB:速度快
      串口UART：速度慢
      网络:速度快
      JTAG:速度慢  
      功能：
      仅仅是下载功能：以上4个通信方式都可以
      具备调试,查看程序的运行状态：选择串口UART
     
      总结：下位机必须具有串口UART
            可选USB,网口,JTAG
   案例：将TPAD和PC进行连接
         连接电源
         连接USB,TPAD为小口
         连接串口UART,连接靠里面的串口
         连接网口 
   案例2：向TPAD烧写软件bootloader
          bootloader使用的u-boot著名的开源软件
          具体烧写参见文档：
          ESD_ARM-CORTEX-A_COOKBOOK_01.docx
          设计的软件镜像：resource.rar里
             
      
      
      
       