#20160804165600
#awk_sed_grep_perl
#需求,将源文件xxoo变成文件ooxx

源文件：
#cat xxoo
{"_id":"57584d8a01c15086dc5c2e09","alt":0,"cts":{"$numberLong":"1465404940106"},"da":-1,"did":"21698","et":3,"lat":22.034001,"lng":113.328414,"sc":2000,"sts":{"$numberLong":"1465404810516"},"uid":"bbb54cad937d42e0b0bc505d396f948f","v":0}
{"_id":"57584d8a01c15086dc5c2e09","alt":0,"cts":{"$numberLong":"1465404940106"},"da":-1,"did":"21698","et":3,"lat":22.034001,"lng":113.328414,"sc":2000,"sts":{"$numberLong":"1465404810516"},"uid":"bbb54cad937d42e0b0bc505d396f948f","v":0}
{"_id":"57584d8a01c15086dc5c2e09","alt":0,"cts":{"$numberLong":"1465404940106"},"da":-1,"did":"21698","et":3,"lat":22.034001,"lng":113.328414,"sc":2000,"sts":{"$numberLong":"1465404810516"},"uid":"bbb54cad937d42e0b0bc505d396f948f","v":0}
{"_id":"57584d8a01c15086dc5c2e09","alt":0,"cts":{"$numberLong":"1465404940106"},"da":-1,"did":"21698","et":3,"lat":22.034001,"lng":113.328414,"sc":2000,"sts":{"$numberLong":"1465404810516"},"uid":"bbb54cad937d42e0b0bc505d396f948f","v":0}
{"_id":"57584d8a01c15086dc5c2e09","alt":0,"cts":{"$numberLong":"1465404940106"},"da":-1,"did":"21698","et":3,"lat":22.034001,"lng":113.328414,"sc":2000,"sts":{"$numberLong":"1465404810516"},"uid":"bbb54cad937d42e0b0bc505d396f948f","v":0}



目标文件：

#cat ooxx
57584d8a01c15086dc5c2e09|0|1465404940106|-1|21698|3|22.034001|113.328414|2000|1465404810516|bbb54cad937d42e0b0bc505d396f948f|0
57584d8a01c15086dc5c2e09|0|1465404940106|-1|21698|3|22.034001|113.328414|2000|1465404810516|bbb54cad937d42e0b0bc505d396f948f|0
57584d8a01c15086dc5c2e09|0|1465404940106|-1|21698|3|22.034001|113.328414|2000|1465404810516|bbb54cad937d42e0b0bc505d396f948f|0
57584d8a01c15086dc5c2e09|0|1465404940106|-1|21698|3|22.034001|113.328414|2000|1465404810516|bbb54cad937d42e0b0bc505d396f948f|0
57584d8a01c15086dc5c2e09|0|1465404940106|-1|21698|3|22.034001|113.328414|2000|1465404810516|bbb54cad937d42e0b0bc505d396f948f|0



代码：


#sed -r ':a;s/[{,]"[^:]+":"?(.*)/|\1/;ta;s/(\|)\||[}"]|^\|/\1/g' xxoo   (R大)


#grep -Po ':"?\K[^\"]*(?=\"*}?,|})' xxoo|xargs -n12|awk '$1=$1' OFS="|"   (shashen)

#grep -Po '(?<=:"|:)[^"]+(?="?[},])' xxoo|xargs -n12|awk '$1=$1' OFS="|"   (郁金)

#perl -nle 'push @ss,$2 while /(?<=:)(")?([^"{},]+)/g;print join "|",@ss; undef @ss' xxoo  (ss)

